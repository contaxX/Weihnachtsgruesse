<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>contaxX ¬∑ Weihnachtsgr√º√üe</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:wght@400;500;600&display=swap" rel="stylesheet">

<style>
  :root{
    --gold:#f5d6a4;
    --gold2:#ffdcae;
    --warm:#fff6ea;
    --bg:#060816;
    --card:#0f1433;
    --ink:rgba(255,245,235,.94);
    --muted:rgba(255,245,235,.84);
    --red:#b3192a;
    --red2:#d12a3b;
    --pine:#0c2a1b;
    --snow:rgba(255,255,255,.24);
  }
  *{box-sizing:border-box;margin:0;padding:0}

  body{
    min-height:100vh;
    font-family:"Cormorant Garamond", serif;
    color:var(--ink);
    overflow-x:hidden;
    background: radial-gradient(circle at top, #121a3b 0%, #0b0f1f 55%, #000 100%);
  }

  /* üéÑ Weihnachtsdorf-Kulisse (stilisiert) */
  .village{
    position:fixed; inset:0; pointer-events:none; z-index:0;
    background:
      radial-gradient(1000px 600px at 50% 105%, rgba(255,255,255,.10), transparent 60%),
      radial-gradient(700px 420px at 15% 90%, rgba(245,214,164,.08), transparent 60%),
      radial-gradient(700px 420px at 85% 90%, rgba(245,214,164,.08), transparent 60%),
      linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.45) 70%, rgba(0,0,0,.70) 100%);
  }
  /* H√§user-Silhouetten */
  .village::after{
    content:"";
    position:absolute;
    left:0; right:0; bottom:-2px;
    height:42vh;
    background:
      radial-gradient(12px 10px at 12% 78%, rgba(255,220,170,.55), transparent 60%),
      radial-gradient(12px 10px at 15% 80%, rgba(255,220,170,.45), transparent 60%),
      radial-gradient(12px 10px at 22% 74%, rgba(255,220,170,.55), transparent 60%),
      radial-gradient(12px 10px at 35% 76%, rgba(255,220,170,.50), transparent 60%),
      radial-gradient(12px 10px at 48% 78%, rgba(255,220,170,.45), transparent 60%),
      radial-gradient(12px 10px at 62% 75%, rgba(255,220,170,.55), transparent 60%),
      radial-gradient(12px 10px at 74% 77%, rgba(255,220,170,.48), transparent 60%),
      radial-gradient(12px 10px at 84% 76%, rgba(255,220,170,.55), transparent 60%),
      linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.28) 100%),
      linear-gradient(90deg, rgba(0,0,0,.65), rgba(0,0,0,.55));
    clip-path: polygon(0 55%, 6% 55%, 8% 45%, 12% 45%, 14% 55%, 18% 55%, 20% 42%, 26% 42%, 28% 55%, 
                       33% 55%, 35% 40%, 41% 40%, 43% 55%, 48% 55%, 50% 44%, 55% 44%, 57% 55%, 
                       62% 55%, 65% 41%, 71% 41%, 73% 55%, 78% 55%, 80% 43%, 86% 43%, 88% 55%, 
                       100% 55%, 100% 100%, 0 100%);
    opacity:.95;
  }

  /* ‚ú® Extra Glitzer/Bokeh */
  .bokeh{
    position:fixed; inset:0; pointer-events:none; z-index:0;
    background-image:
      radial-gradient(160px 160px at 12% 18%, rgba(255,220,170,.12), transparent 60%),
      radial-gradient(220px 220px at 82% 22%, rgba(245,214,164,.10), transparent 62%),
      radial-gradient(200px 200px at 65% 78%, rgba(255,160,170,.09), transparent 65%),
      radial-gradient(220px 220px at 24% 86%, rgba(245,214,164,.08), transparent 64%);
    filter: blur(1px);
    opacity:1;
  }

  /* ‚ùÑÔ∏è Schnee: mehr & dichter */
  .snow{position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden;}
  .flake{
    position:absolute; top:-12%;
    width:6px; height:6px; border-radius:999px;
    background:var(--snow);
    box-shadow:0 0 12px rgba(255,255,255,.12);
    animation:fall linear infinite;
  }
  @keyframes fall{
    0%{transform:translateY(-12vh) translateX(0); opacity:0}
    10%{opacity:.9}
    100%{transform:translateY(112vh) translateX(80px); opacity:0}
  }

  /* ‚ú® Lichterkette oben: mehr bulbs */
  .lights{position:fixed; top:0; left:0; right:0; height:90px; pointer-events:none; z-index:1;}
  .wire{
    position:absolute; top:28px; left:-5%;
    width:110%; height:2px;
    background:linear-gradient(90deg, transparent, rgba(245,214,164,.55), transparent);
  }
  .bulb{
    position:absolute; top:36px;
    width:10px; height:10px; border-radius:999px;
    background:rgba(255,255,255,.35);
    box-shadow:0 0 18px rgba(255,220,170,.90);
    animation:tw 2.4s ease-in-out infinite;
  }
  @keyframes tw{0%,100%{opacity:.35;transform:scale(1)}50%{opacity:1;transform:scale(1.35)}}

  /* üîä Sound Toggle */
  .sound{
    position:fixed;
    right:14px;
    bottom:14px;
    z-index:5;
    border:1px solid rgba(245,214,164,.38);
    background:rgba(0,0,0,.28);
    color:rgba(245,214,164,.95);
    padding:10px 12px;
    border-radius:12px;
    cursor:pointer;
    font-size:14px;
    user-select:none;
  }
  .sound small{opacity:.8; display:block; font-size:12px; margin-top:2px}

  .wrap{
    max-width:1100px; /* breiter overall */
    margin:0 auto;
    padding:28px 16px 64px;
    position:relative;
    z-index:2;
  }

  /* Logo unten (wie gew√ºnscht) */
  header{
    display:flex;
    justify-content:center;
    margin:10px 0 18px;
    opacity:.0; /* wir nutzen das Logo unten statt oben */
    height:0;
    overflow:hidden;
  }

  .brand-bottom{
    display:flex;
    justify-content:center;
    margin-top:18px;
  }
  .brand-bottom img{
    height:62px; /* etwas gr√∂√üer */
    display:block;
    filter: drop-shadow(0 10px 26px rgba(0,0,0,.55));
    opacity:.95;
  }

  /* B√ºhne */
  .stage{display:flex; justify-content:center; padding:4px 0 0;}
  .scene{
    width:min(820px, 96vw); /* breiter, damit Karte mehr Platz hat */
    position:relative;
    padding-top:14px;
  }

  .envelopeWrap{
    position:relative;
    height:560px;
    display:flex;
    justify-content:center;
    align-items:flex-end;
  }

  /* Finale Karte (allein) */
  .cardOnly{
    display:none;
    width:100%;
    border-radius:22px;
    border:1px solid rgba(245,214,164,.35);
    background:linear-gradient(180deg, rgba(15,20,51,.97), rgba(8,10,22,.97));
    box-shadow:0 26px 90px rgba(0,0,0,.65), 0 0 48px rgba(245,214,164,.10);
    overflow:hidden;
  }
  .cardInner{padding:38px 34px 30px}

  .title{
    font-family:"Great Vibes", cursive;
    font-size:66px;
    line-height:1.03;
    text-align:center;
    color:var(--gold2);
    text-shadow:0 6px 26px rgba(0,0,0,.45);
  }
  .sub{
    margin-top:14px;
    text-align:center;
    font-size:22px;
    line-height:1.7;
    color:rgba(255,245,235,.86);
  }

  .grid{
    margin-top:22px;
    display:grid;
    grid-template-columns: 1.15fr .85fr; /* Bild bekommt mehr Platz */
    gap:18px;
    align-items:stretch;
  }

  .photo{
    border-radius:16px;
    overflow:hidden;
    border:1px solid rgba(245,214,164,.22);
    background:rgba(0,0,0,.18);
    min-height:280px;
  }
  .photo img{
    width:100%;
    height:100%;
    object-fit:contain; /* damit mehr vom kompletten Bild sichtbar ist */
    background:rgba(0,0,0,.18);
    display:block;
  }

  .letter{
    border-radius:16px;
    border:1px solid rgba(245,214,164,.22);
    background:rgba(0,0,0,.20);
    padding:20px 18px 16px;
  }
  .letter h2{
    font-size:24px;
    color:var(--gold2);
    margin-bottom:10px;
  }
  .letter p{
    font-size:19px;
    line-height:1.7;
    margin-bottom:10px;
    color:rgba(255,245,235,.86);
  }

  footer{
    margin-top:18px;
    text-align:center;
    font-size:13px;
    color:rgba(245,214,164,.75);
    letter-spacing:.02em;
  }

  /* ‚úâÔ∏è Kuvert (sch√∂ner, weihnachtlicher) */
  .envelope{
    width:100%;
    height:360px;
    position:relative;
    border-radius:18px;
    background:
      radial-gradient(circle at 30% 20%, rgba(255,255,255,.18), transparent 55%),
      linear-gradient(135deg, #d8b277, #f5d6a4);
    box-shadow:0 30px 110px rgba(0,0,0,.62);
    border:1px solid rgba(0,0,0,.10);
    overflow:hidden;
    cursor:pointer;
    user-select:none;
  }

  /* weihnachtliches Papiermuster */
  .envelope::before{
    content:"";
    position:absolute; inset:0;
    background-image:
      radial-gradient(10px 10px at 15% 30%, rgba(255,255,255,.18) 35%, transparent 36%),
      radial-gradient(12px 12px at 78% 44%, rgba(255,255,255,.16) 35%, transparent 36%),
      radial-gradient(8px 8px at 45% 70%, rgba(255,255,255,.14) 35%, transparent 36%),
      radial-gradient(9px 9px at 64% 22%, rgba(255,255,255,.14) 35%, transparent 36%);
    opacity:.28;
    pointer-events:none;
  }

  .flap{
    position:absolute; top:0; left:0; right:0; height:58%;
    background:
      radial-gradient(circle at 50% 0%, rgba(255,255,255,.10), transparent 60%),
      linear-gradient(135deg, #caa468, #efcf9c);
    clip-path:polygon(0 0, 100% 0, 50% 88%);
    transform-origin:top center;
    transition:transform .9s cubic-bezier(.2,1,.25,1);
    border-bottom:1px solid rgba(0,0,0,.08);
    z-index:2;
  }

  .fold{
    position:absolute; inset:auto 0 0 0; height:78%;
    background:
      linear-gradient(135deg, rgba(0,0,0,.08), rgba(0,0,0,0)),
      linear-gradient(225deg, rgba(0,0,0,.08), rgba(0,0,0,0));
    clip-path:polygon(0 0, 50% 50%, 100% 0, 100% 100%, 0 100%);
    opacity:.55;
    z-index:1;
  }

  /* üéÄ Schleife: gr√∂√üer + eleganter, sitzt oberhalb des Textes */
  .ribbon{
    position:absolute;
    left:50%;
    top:34%;
    transform:translate(-50%,-50%);
    width:170px;
    height:150px;
    z-index:3;
    transition:transform .35s ease, opacity .35s ease;
  }
  .ribbon .knot{
    position:absolute;
    left:50%; top:50%;
    transform:translate(-50%,-50%);
    width:26px; height:26px;
    border-radius:999px;
    background:radial-gradient(circle at 30% 25%, rgba(255,255,255,.25), rgba(0,0,0,.12) 60%);
    border:1px solid rgba(0,0,0,.12);
  }
  .ribbon .loop{
    position:absolute; top:50%;
    width:82px; height:54px;
    border-radius:26px;
    background:linear-gradient(135deg, var(--red2), var(--red));
    border:1px solid rgba(0,0,0,.10);
    box-shadow:0 10px 22px rgba(0,0,0,.26);
  }
  .ribbon .loop.left{left:14px; transform:translateY(-50%) rotate(-12deg)}
  .ribbon .loop.right{right:14px; transform:translateY(-50%) rotate(12deg)}
  .ribbon .tail{
    position:absolute; bottom:4px;
    width:22px; height:82px;
    background:linear-gradient(180deg, var(--red2), var(--red));
    border:1px solid rgba(0,0,0,.10);
    box-shadow:0 10px 22px rgba(0,0,0,.18);
  }
  .ribbon .tail.left{left:62px; transform:rotate(10deg); clip-path:polygon(0 0, 100% 0, 100% 92%, 50% 100%, 0 92%)}
  .ribbon .tail.right{right:62px; transform:rotate(-10deg); clip-path:polygon(0 0, 100% 0, 100% 92%, 50% 100%, 0 92%)}

  /* Text sitzt darunter, frei sichtbar */
  .envText{
    position:absolute;
    left:0; right:0;
    bottom:92px;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:0 22px;
    text-align:center;
    font-size:30px;
    color:#2b1c0f;
    letter-spacing:.02em;
    z-index:0;
  }

  .hint{
    margin-top:12px;
    text-align:center;
    font-size:13px;
    color:rgba(245,214,164,.82);
    letter-spacing:.08em;
    text-transform:uppercase;
  }

  /* Animation Phasen */
  .scene.phase-untie .ribbon{
    transform:translate(-50%,-50%) scale(.92) rotate(-6deg);
    opacity:.12;
  }
  .scene.phase-open .flap{transform:rotateX(170deg);}

  .peek{
    position:absolute;
    left:6%;
    right:6%;
    bottom:110px;
    height:220px;
    border-radius:18px;
    border:1px solid rgba(245,214,164,.30);
    background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(0,0,0,.18));
    box-shadow:0 18px 60px rgba(0,0,0,.40);
    transform:translateY(190px);
    opacity:0;
    transition:transform .8s cubic-bezier(.2,1,.25,1), opacity .35s ease;
    z-index:2;
    overflow:hidden;
  }
  .peek::before{
    content:"";
    position:absolute; inset:0;
    background:
      radial-gradient(circle at 20% 20%, rgba(245,214,164,.22), transparent 60%),
      radial-gradient(circle at 80% 40%, rgba(255,180,190,.12), transparent 62%);
  }
  .peekMark{
    position:absolute;
    top:20px; left:22px;
    font-family:"Great Vibes", cursive;
    font-size:38px;
    color:rgba(245,214,164,.88);
  }
  .scene.phase-peek .peek{transform:translateY(-70px); opacity:1;}

  /* Reveal: Kuvert weg + Karte rein */
  .scene.phase-reveal .envelopeWrap{
    animation:spinAway .75s ease forwards;
  }
  @keyframes spinAway{
    to{transform:scale(.92) rotateY(14deg); opacity:0}
  }
  .scene.phase-reveal .cardOnly{
    display:block;
    animation:cardIn .9s cubic-bezier(.2,1,.25,1) forwards;
  }
  @keyframes cardIn{
    from{opacity:0; transform:translateY(10px)}
    to{opacity:1; transform:none}
  }

  @media (max-width: 760px){
    .scene{width:min(720px, 96vw)}
    .title{font-size:52px}
    .sub{font-size:19px}
    .grid{grid-template-columns:1fr}
    .envText{font-size:26px}
    .envelope{height:340px}
    .ribbon{transform:translate(-50%,-50%) scale(.92)}
  }
</style>
</head>

<body>
  <div class="village" aria-hidden="true"></div>
  <div class="bokeh" aria-hidden="true"></div>

  <div class="snow" aria-hidden="true">
    <!-- dichterer Schnee -->
    <span class="flake" style="left:2%;  animation-duration:8.5s;  animation-delay:0s;"></span>
    <span class="flake" style="left:6%;  animation-duration:10.5s; animation-delay:1s; width:4px;height:4px;"></span>
    <span class="flake" style="left:10%; animation-duration:9.6s;  animation-delay:2s;"></span>
    <span class="flake" style="left:14%; animation-duration:12.4s; animation-delay:.6s; width:5px;height:5px;"></span>
    <span class="flake" style="left:18%; animation-duration:9.2s;  animation-delay:1.7s;"></span>
    <span class="flake" style="left:22%; animation-duration:11.7s; animation-delay:2.4s; width:4px;height:4px;"></span>
    <span class="flake" style="left:26%; animation-duration:10.3s; animation-delay:0.8s;"></span>
    <span class="flake" style="left:30%; animation-duration:13.1s; animation-delay:1.9s; width:5px;height:5px;"></span>
    <span class="flake" style="left:34%; animation-duration:9.9s;  animation-delay:2.6s;"></span>
    <span class="flake" style="left:38%; animation-duration:12.8s; animation-delay:1.1s; width:4px;height:4px;"></span>
    <span class="flake" style="left:42%; animation-duration:11.1s; animation-delay:2.0s;"></span>
    <span class="flake" style="left:46%; animation-duration:13.7s; animation-delay:.7s; width:5px;height:5px;"></span>
    <span class="flake" style="left:50%; animation-duration:10.2s; animation-delay:1.6s;"></span>
    <span class="flake" style="left:54%; animation-duration:15.0s; animation-delay:2.8s; width:4px;height:4px;"></span>
    <span class="flake" style="left:58%; animation-duration:14.2s; animation-delay:3.0s;"></span>
    <span class="flake" style="left:62%; animation-duration:16.0s; animation-delay:2.4s; width:4px;height:4px;"></span>
    <span class="flake" style="left:66%; animation-duration:15.2s; animation-delay:3.2s;"></span>
    <span class="flake" style="left:70%; animation-duration:16.5s; animation-delay:2.9s; width:4px;height:4px;"></span>
    <span class="flake" style="left:74%; animation-duration:12.3s; animation-delay:1.3s;"></span>
    <span class="flake" style="left:78%; animation-duration:10.6s; animation-delay:2.2s; width:5px;height:5px;"></span>
    <span class="flake" style="left:82%; animation-duration:13.9s; animation-delay:.9s;"></span>
    <span class="flake" style="left:86%; animation-duration:11.8s; animation-delay:1.9s; width:4px;height:4px;"></span>
    <span class="flake" style="left:90%; animation-duration:14.6s; animation-delay:2.6s;"></span>
    <span class="flake" style="left:94%; animation-duration:12.9s; animation-delay:1.4s; width:5px;height:5px;"></span>
    <span class="flake" style="left:98%; animation-duration:10.1s; animation-delay:2.1s;"></span>
  </div>

  <div class="lights" aria-hidden="true">
    <div class="wire"></div>
    <!-- 13 bulbs -->
    <span class="bulb" style="left:4%;  animation-delay:.2s"></span>
    <span class="bulb" style="left:12%; animation-delay:1.1s"></span>
    <span class="bulb" style="left:20%; animation-delay:.6s"></span>
    <span class="bulb" style="left:28%; animation-delay:1.6s"></span>
    <span class="bulb" style="left:36%; animation-delay:.9s"></span>
    <span class="bulb" style="left:44%; animation-delay:1.9s"></span>
    <span class="bulb" style="left:52%; animation-delay:1.0s"></span>
    <span class="bulb" style="left:60%; animation-delay:2.1s"></span>
    <span class="bulb" style="left:68%; animation-delay:.7s"></span>
    <span class="bulb" style="left:76%; animation-delay:1.7s"></span>
    <span class="bulb" style="left:84%; animation-delay:.4s"></span>
    <span class="bulb" style="left:92%; animation-delay:1.3s"></span>
    <span class="bulb" style="left:97%; animation-delay:.8s"></span>
  </div>

  <!-- üîà Audio -->
  <audio id="bgm" preload="auto" loop>
    <source src="assets/weihnachtsmusik.mp3" type="audio/mpeg">
  </audio>

  <div class="wrap">
    <header>
      <img src="assets/contaxx-logo.png" alt="contaxX Logo">
    </header>

    <div class="stage">
      <div class="scene" id="scene">
        <div class="envelopeWrap" id="envWrap">
          <div class="peek" id="peek">
            <div class="peekMark">Frohe Weihnachten</div>
          </div>

          <div class="envelope" id="envelope" aria-label="Weihnachtspost √∂ffnen">
            <div class="flap"></div>
            <div class="fold"></div>

            <div class="ribbon" aria-hidden="true">
              <div class="loop left"></div>
              <div class="loop right"></div>
              <div class="knot"></div>
              <div class="tail left"></div>
              <div class="tail right"></div>
            </div>

            <div class="envText">Weihnachtspost f√ºr Sie</div>
          </div>

          <div class="hint">Zum √ñffnen tippen</div>
        </div>

        <div class="cardOnly" id="cardOnly" role="region" aria-label="Weihnachtskarte">
          <div class="cardInner">
            <div class="title">Frohe Weihnachten</div>
            <div class="sub">
              Zum Jahresausklang m√∂chten wir uns herzlich f√ºr Ihr Vertrauen und die angenehme Zusammenarbeit bedanken.
              Wir freuen uns darauf, Sie auch im kommenden Jahr verl√§sslich begleiten zu d√ºrfen.
            </div>

            <div class="grid">
              <div class="photo">
                <img src="assets/buero-weihnacht.png" alt="contaxX B√ºro weihnachtlich">
              </div>

              <div class="letter">
                <h2>Unsere W√ºnsche f√ºr Sie</h2>
                <p>Erholsame Feiertage, Zeit f√ºr die wichtigen Dinge und einen gelungenen Start ins neue Jahr.</p>
                <p>F√ºr 2026 w√ºnschen wir Ihnen Gesundheit, Zuversicht und wirtschaftlichen Erfolg.</p>
                <p style="margin-bottom:0;">Herzliche Gr√º√üe<br><strong>Ihr contaxX-Team</strong></p>
              </div>
            </div>

            <footer>contaxX Group</footer>
          </div>
        </div>

        <div class="brand-bottom">
          <img src="assets/contaxx-logo.png" alt="contaxX Logo">
        </div>

      </div>
    </div>
  </div>

  <div class="sound" id="soundBtn">
    Ton: <span id="soundState">Aus</span>
    <small>(startet beim √ñffnen)</small>
  </div>

<script>
  const scene = document.getElementById("scene");
  const envelope = document.getElementById("envelope");
  const envWrap = document.getElementById("envWrap");
  const cardOnly = document.getElementById("cardOnly");
  const bgm = document.getElementById("bgm");
  const soundBtn = document.getElementById("soundBtn");
  const soundState = document.getElementById("soundState");

  let hasRun = false;
  let soundOn = false;

  async function tryPlay(){
    try{
      await bgm.play();
      soundOn = true;
      soundState.textContent = "An";
    }catch(e){
      soundOn = false;
      soundState.textContent = "Aus";
    }
  }

  function toggleMusic(){
    if(soundOn){
      bgm.pause();
      soundOn = false;
      soundState.textContent = "Aus";
    }else{
      tryPlay();
    }
  }

  soundBtn.addEventListener("click", (ev) => {
    ev.stopPropagation();
    toggleMusic();
  });

  function scrollCardIntoView(){
    // Karte in den sichtbaren Bereich holen (nicht erst nach unten scrollen m√ºssen)
    setTimeout(() => {
      cardOnly.scrollIntoView({ behavior: "smooth", block: "center" });
    }, 1800);
  }

  envelope.addEventListener("click", async () => {
    if(hasRun) return;
    hasRun = true;

    await tryPlay();

    // Sequenz: Schleife l√∂st -> Kuvert auf -> Peek -> Reveal Karte
    scene.classList.add("phase-untie");

    setTimeout(() => scene.classList.add("phase-open"), 450);
    setTimeout(() => scene.classList.add("phase-peek"), 1050);
    setTimeout(() => scene.classList.add("phase-reveal"), 1850);

    scrollCardIntoView();
  });
</script>
</body>
</html>
